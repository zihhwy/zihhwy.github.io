[{"content":"序言 起初无意间发现cloudflare的origin rules规则，可以进行端口反向代理，将对应端口上的页面代理到正常的80、443上，直接访问。于是开始琢磨起它的使用方法\n这个功能的应用场景非常广泛，大致有以下几点，\n家宽，运营商拦截了80、443端口的，可以绕过限制建站。 没有公网ipv4但有ipv6的家宽，可以实现1的同时将ipv6单栈解析转为ipv4、ipv6双栈的。 让限制了端口数量的nat小鸡建站 让纯ipv6小鸡也可以建站 1. 有公网ipv4/6 有公网ip就相对简单很多，首先需要准备以下三项\nddns工具 通过ddns将域名A tool.example解析到家宽ip上 将域名A(tool.example)cname到域名B(xxx.example)上 * 域名A为工具域名，域名B为需要访问的域名\nddns工具安装教程网上非常多，默认已经安装\n1.1 首先将域名解析到ddns上 1.2 在cloudflare创建一个cname记录，将xxx.example.com解析到tool.example.com上，并开启cf cdn 1.3 创建一个Origin rules，将域名xxx.example.com重写到1234端口. * 这里的1234就是你所需要访问的端口，因为web服务80/443端口压根通信不出去，所以需要你在Nginx或类似工具上修改默认的80/443为1234\n完成 访问你的xxx.example.com就能打开你的网站了\n2. 无公网ip 既然没有公网ip那就只能使用frp/nps转发工具了\n2.1 安装frp 您可以从 GitHub 的 Release 页面中下载最新版本的客户端和服务器二进制文件。所有文件都打包在一个压缩包中，还包含了一份完整的配置参数说明。\n解压下载的压缩包。 将frpc复制到内网服务所在的机器上。 将frps复制到拥有公网 IP 地址的机器上，并将它们放在任意目录。 配置frps.toml并运行frps服务\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 # FRP 服务端监听端口 bindPort = 7000 # HTTP 和 HTTPS 虚拟主机端口 vhostHTTPPort = 8090 # HTTP 服务端口 vhostHTTPSPort = 8443 # HTTPS 服务端口（可选） # FRP 服务端 Web 管理界面配置 [webServer] addr = \u0026#34;0.0.0.0\u0026#34; # 监听地址（0.0.0.0 表示允许所有 IP 访问） port = 7001 # Web 管理界面端口 user = \u0026#34;xxx\u0026#34; # 登录用户名 password = \u0026#34;xxxxxx\u0026#34; # 登录密码 # FRP 客户端连接鉴权配置 [auth] token = \u0026#34;xxxxxxxx\u0026#34; # 客户端连接所需的鉴权 token # 日志配置 [log] to = \u0026#34;./log\u0026#34; # 日志文件保存路径 level = \u0026#34;info\u0026#34; # 日志级别（可选：trace, debug, info, warn, error） maxDays = 7 # 日志保留天数 * xxxxx为需要自定义修改的部分\n运行frps服务\n1 ./frps -c ./frps.toml * 如果需要在后台长期运行，建议结合其他工具，如 systemd 和 supervisor\n配置frpc.toml并运行frpc服务 1 2 3 4 5 6 7 8 9 10 11 serverAddr = \u0026#34;xx.xx.xx.xx\u0026#34; #运行frps服务的公网机器ip serverPort = 7000 auth.method = \u0026#34;token\u0026#34; auth.token = \u0026#34;xxxxxx\u0026#34; #frps.toml配置里的token [[proxies]] name = \u0026#34;xxx\u0026#34; type = \u0026#34;tcp\u0026#34; localIP = \u0026#34;127.0.0.1\u0026#34; localPort = 80/443 remotePort = 1234 运行frpc服务\n1 ./frpc -c ./frpc.toml 至此frp基本配置完毕更多参数配置参考 frp参数配置\n2.2 转发服务端口 参考第一部分即可\n","permalink":"https://codepllz.com/posts/003/","summary":"\u003ch2 id=\"序言\"\u003e序言\u003c/h2\u003e\n\u003cp\u003e  起初无意间发现cloudflare的origin rules规则，可以进行端口反向代理，将对应端口上的页面代理到正常的80、443上，直接访问。于是开始琢磨起它的使用方法\u003c/p\u003e","title":"利用cloudflare的Origin Rules搭配frp实现家宽无80/443端口访问"},{"content":" Markdown 是一种轻量级标记语言，它允许人们使用易读易写的纯文本格式编写文档。本文旨在提供一份详尽的语法参考，助你快速掌握 Markdown。\n第一部分：基础语法 0.目录 使用 [TOC] 来标示插入目录，目录分级取决于文章已有的分级标题。 最高层级不一定要从一级标题开始，目录解析过程会自动识别整个目录的最高层级。 示例：\n1 [TOC] 1. 标题 (Headers) Markdown 支持 1 到 6 级标题。\n1 2 3 4 5 6 # H1 一级标题 (通常用于文章主标题) ## H2 二级标题 (文章主要章节) ### H3 三级标题 (子章节) #### H4 四级标题 ##### H5 五级标题 ###### H6 六级标题 2. 文本样式 (Emphasis) 对文本进行加粗、斜体或删除线处理。\n语法写法 效果展示 说明 *斜体文本* 或 _斜体文本_ 斜体文本 单个星号或下划线 **粗体文本** 粗体文本 双星号或双下划线 ***粗斜体*** 粗斜体 三星号 ~~删除线~~ 删除线 双波浪线 3. 列表 (Lists) 3.1 无序列表 使用 *、+ 或 - 作为标记。\n项目 1\n项目 2\n子项目 A (前面加2个或4个空格)\n子项目 B\n3.2 有序列表 使用数字加点 1.。数字本身不重要，Markdown 会自动排序，但建议从 1 开始。\n第一步\n第二步\n第三步\n第三步的子步骤\n另一个子步骤\n4. 链接与图片 (Links \u0026amp; Images) 4.1 超链接 语法：[显示文本](链接地址 \u0026quot;可选标题\u0026quot;)\n普通链接： 访问百度\n直接显示链接： https://baidu.com\n4.2 图片 图片语法与链接非常像，只是前面多了一个感叹号 !。 语法：![图片替代文字](图片地址)\n示例：\n5. 引用 (Blockquotes) 使用 \u0026gt; 符号。引用可以嵌套。 这是一个引用段落。\n这是一个嵌套引用。\n回到第一层引用。\n6. 代码 (Code) 6.1 代码块 使用三个反引号 ``` 包裹，并指定语言（可选，用于语法高亮）。\ndef hello(): print(\u0026#34;Hello, Markdown!\u0026#34;) 6.2 行内代码块 示例：\n1 `行内代码块` 效果：\n行内代码块\n7. 分割线 (Horizontal Rules) 使用三个或以上的 *、- 或 _。 示例：\n百年孤独 然而，在晚年无法穿透的孤独中，她获得了非凡的洞察力，能察觉到家中任何不起眼的小事，也第一次看清了过去因忙碌而忽略的真相。在培养何塞·阿尔卡蒂奥为上神学院作准备的那段时期，她细细回顾了马孔多创建以来家中的大事小情，彻底改变了对子孙的一贯看法。\n作者：奥雷里亚诺·布\n8. 表格支持 语法：\n| base_uri | uri | result | | :--------------------: | :-----: | :--------------------------: | | chengxiaobai.cn/first/ | /second | chengxiaobai.cn/second | | chengxiaobai.cn/first/ | second | chengxiaobai.cn/first/second | | chengxiaobai.cn/first | /second | chengxiaobai.cn/second | | chengxiaobai.cn/first | second | chengxiaobai.cn/second | 示例\nbase_uri uri result chengxiaobai.cn/first/ /second chengxiaobai.cn/second chengxiaobai.cn/first/ second chengxiaobai.cn/first/second chengxiaobai.cn/first /second chengxiaobai.cn/second chengxiaobai.cn/first second chengxiaobai.cn/second 9. 文本高亮 使用 == 包裹起来的文本会被高亮展示，无 JavaScript 依赖，默认开启，参考文档：MDN-Mark，现代浏览器基本都支持\n示例： 多年以后，面对行刑队，奥雷里亚诺·布恩迪亚上校将会回想起父亲带他去见识冰块的那个==遥远的下午==\n效果：\n多年以后，面对行刑队，奥雷里亚诺·布恩迪亚上校将会回想起父亲带他去见识冰块的那个==遥远的下午==\n10.任务列表 任务列表展示，无 JavaScript 依赖，只读模式\n示例：\n1 2 3 - [x] Typecho 最新版本插件系统适配 - [x] MarkdownParse 适配 GFM - [ ] MarkdownParse 发布 2.0 版本 效果：\nTypecho 最新版本插件系统适配 MarkdownParse 适配 GFM MarkdownParse 发布 2.0 版本 第二部分：进阶语法 (Extended Syntax) 1.HTML 标签 Markdown 支持原生 HTML。如果某些效果 Markdown 实现不了（比如改变字体颜色），你可以直接写 HTML。\n示例： (通过HTML实现)\n1 \u0026lt;span style=\u0026#34;color:red\u0026#34;\u0026gt;这是红色的文字\u0026lt;/span\u0026gt; 效果：\n这是红色的文字\n2.转义字符 如果你想显示 * 或 _ 等特殊符号原本的样子，需要在前面加反斜杠 \\。\n示例：\n\\*这不是斜体* 效果：\n*这不是斜体*\n3.脚注 (Footnotes) 注：此功能需要编辑器或插件支持。\n这是一个脚注示例^1\n第三部分：写作建议 空格的使用： 在 # 后、- 后建议都加上一个空格，这是标准规范。\n换行： 在 Markdown 中，如果你想在段落内强制换行，可以在行尾敲两个空格然后回车，或者直接使用空行分段。\n中英文混排： 建议在中英文之间留一个空格，虽然不是语法要求，但能显著提升阅读体验。\nBad: 学习Markdown语法\nGood: 学习 Markdown 语法\n","permalink":"https://codepllz.com/posts/001/","summary":"\u003cp\u003e  \u003ca href=\"https://www.markdownguide.org/\"\u003e\u003cem\u003eMarkdown\u003c/em\u003e\u003c/a\u003e 是一种轻量级标记语言，它允许人们使用易读易写的纯文本格式编写文档。本文旨在提供一份详尽的语法参考，助你快速掌握 Markdown。\u003c/p\u003e","title":"Markdown 语法指南"},{"content":" 如何备份存储一直是痛点，网盘可以完美解决这个问题，而且不用多花钱买存储vps，之前发过一次，但是当时的配置只能支持路径式的s3存储，大多数网站的s3存储都是主机式网址的s3存储的，为了优化这一点，重新调整了所有设置。前提，你有一台服务器，一个Google drive 2T白嫖账号。在服务器上搭建了rclone服务，并且挂载了google drive\n一、设置rclone系统服务 1 sudo nano /etc/systemd/system/rclone-s3.service 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 [Unit] Description=Rclone S3 Service for Google Drive After=network.target [Service] Type=simple User=root ExecStart=/usr/bin/rclone serve s3 \\ --addr 0.0.0.0:10000 \\ --auth-key yourAccess key ID,yourSecret Key \\ --etag-hash md5 \\ --force-path-style=false \\ googledrive: Restart=on-failure RestartSec=10 [Install] WantedBy=multi-user.target 主要变量含义 Type=simple: 服务类型为简单类型，进程在前台运行 User=root: 以 root 用户身份运行服务 ExecStart: 服务启动时执行的命令，包含以下 Rclone 参数： /usr/bin/rclone serve s3 googledrive:s3: 使用 Rclone 将 Google Drive 作为 S3 服务提供 googledrive: 这是在 Rclone 配置文件中定义的远程存储配置名称，s3是 Google Drive 中的一个文件夹路径 addr 0.0.0.0:10000: 监听所有网络接口的 10000 端口 auth-key: S3 认证密钥对（Access Key 和 Secret Key） etag-hash md5: 使用 MD5 作为 ETag 哈希算法 Restart=on-failure: 服务失败时自动重启 RestartSec=10: 重启前等待 10 秒 保存，启动服务，查看服务状态\n1 2 3 sudo systemctl daemon-reload sudo systemctl restart rclone-s3 sudo systemctl status rclone-s3 二、优化反向代理设置 你要设置DNS服务器（cf），1panel反向代理，\n1 s3.888888.xyz 和\n*.s3.888888.xyz 全部指向你的服务器IP，并且申请函盖着两个域名的证书， 以1panel为例 修改 /opt/1panel/apps/openresty/openresty/www/sites/s3.888888.xyz/proxy/root.conf\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 location / { # 直接反代到 rclone S3 网关 proxy_pass http://localhost:10000; proxy_http_version 1.1; # 保留原始 Host 头，保证 S3 签名一致 proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; # 上传大文件直传 proxy_request_buffering off; proxy_buffering off; client_max_body_size 500M; } 三、S3存储桶主要参数 第一步设置存储桶，已经顺利完成。但是仅支持路径式的地址存储桶！ 主要参数：\nAccess key ID：配置文件中第一个yourAccess key ID Secret Key：配置文件中第二个yourSecret Key Region：随便，比如us-east-1 Endpoint：你的反向代理的指向你的服务器的域名比如 https://s3.xxxx.com Bucket:你设置的谷歌网盘下面的文件夹，每一个文件夹就是一个存储桶 ","permalink":"https://codepllz.com/posts/002/","summary":"\u003cp\u003e  如何备份存储一直是痛点，网盘可以完美解决这个问题，而且不用多花钱买存储vps，之前发过一次，但是当时的配置只能支持路径式的s3存储，大多数网站的s3存储都是主机式网址的s3存储的，为了优化这一点，重新调整了所有设置。前提，你有一台服务器，一个Google drive 2T白嫖账号。在服务器上搭建了rclone服务，并且挂载了google drive\u003c/p\u003e","title":"如何把谷歌网盘当作s3存储桶用作各种网站"},{"content":" 剩余价值计算器 itdog ping.pe ","permalink":"https://codepllz.com/tool/","summary":"一些常用的工具","title":"常用工具"},{"content":"你好 👋 欢迎来到我的博客的“关于”页面！\n在这里，你可以随意使用 Markdown 语法来介绍你自己。\n我是谁？ 我是 zihhwy，一个热衷于技术折腾的博主。\n关于这个博客 这个博客是用 Hugo 构建的，使用了 PaperMod 主题。我在这里记录我的学习笔记和生活感悟。\n联系我 Github: zihhwy Email: zihhwy@gmail.com Telegram: opo ","permalink":"https://codepllz.com/about/","summary":"关于此博客和博主","title":"关于我"}]